# STRIDE — Угрозы и контроли

| Поток/Элемент | Угроза (S/T/R/I/D/E) | Описание угрозы | Контроль | Ссылка на NFR | Проверка/Артефакт |
|---|---|---|---|---|---|
| F1 (User → API) | **S**poofing | Анонимный пользователь подделывает запросы от имени другого пользователя. | Аутентификация с помощью JWT токенов. | `NFR-01` | Интеграционные тесты API. |
| F1 (User → API) | **T**ampering | Атакующий в пути перехватывает и изменяет данные ретроспективы (например, меняет текст). | Использование TLS (HTTPS) для шифрования всего трафика. | - | Настройка веб-сервера. |
| F1 (User → API) | **I**nformation Disclosure | Атакующий перехватывает трафик и читает конфиденциальные данные ретроспектив. | Использование TLS (HTTPS) для шифрования всего трафика. | - | Настройка веб-сервера. |
| F1 (User → API) | **D**enial of Service | Атакующий отправляет огромное количество запросов, перегружая API и делая его недоступным для легитимных пользователей. | Ограничение частоты запросов (Rate Limiting) на уровне API шлюза или в коде. | `NFR-07` | Нагрузочные тесты. |
| F1 (User → API) | **E**levation of Privilege | Обычный пользователь получает права администратора или доступ к чужим данным через уязвимость в API. | Четкое разделение ролей и проверка прав доступа (авторизация) на каждый запрос. | `NFR-02` | Интеграционные тесты. |
| Sprint Retros API | **T**ampering | Пользователь передает в API вредоносные данные (например, SQL-инъекцию в строке поиска). | Валидация всех входных данных и использование параметризованных запросов (ORM). | `NFR-05` | Unit-тесты, статический анализ (SAST). |
| F2 (API → DB) | **I**nformation Disclosure | Атакующий, получивший доступ к серверу, может прочитать данные напрямую из незашифрованной базы данных. | Шифрование данных в состоянии покоя (Transparent Data Encryption в БД). | - | Конфигурация БД. |
| F2 (API → DB) | **T**ampering | Атакующий с доступом к сети может перехватить и изменить SQL-запросы между API и БД. | Использование защищенного соединения с БД (TLS). | - | Конфигурация БД. |
